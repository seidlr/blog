<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab. | talksportsdata</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works." />
<meta property="og:description" content="I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works." />
<link rel="canonical" href="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html" />
<meta property="og:url" content="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html" />
<meta property="og:site_name" content="talksportsdata" />
<meta property="og:image" content="https://seidlr.github.io/blog/images/PitchControl_Colab.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-25T00:00:00-05:00" />
<script type="application/ld+json">
{"image":"https://seidlr.github.io/blog/images/PitchControl_Colab.png","description":"I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works.","mainEntityOfPage":{"@type":"WebPage","@id":"https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html"},"@type":"BlogPosting","url":"https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html","headline":"One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab.","dateModified":"2020-04-25T00:00:00-05:00","datePublished":"2020-04-25T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://seidlr.github.io/blog/feed.xml" title="talksportsdata" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-162157046-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab. | talksportsdata</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works." />
<meta property="og:description" content="I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works." />
<link rel="canonical" href="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html" />
<meta property="og:url" content="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html" />
<meta property="og:site_name" content="talksportsdata" />
<meta property="og:image" content="https://seidlr.github.io/blog/images/PitchControl_Colab.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-25T00:00:00-05:00" />
<script type="application/ld+json">
{"image":"https://seidlr.github.io/blog/images/PitchControl_Colab.png","description":"I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works.","mainEntityOfPage":{"@type":"WebPage","@id":"https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html"},"@type":"BlogPosting","url":"https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html","headline":"One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab.","dateModified":"2020-04-25T00:00:00-05:00","datePublished":"2020-04-25T00:00:00-05:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://seidlr.github.io/blog/feed.xml" title="talksportsdata" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-162157046-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">talksportsdata</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">One click to Pitch Control - Running Spearmans Pitch Control model in Google Colab.</h1><p class="page-description">I show how you can run William Spearmans Pitch Control model implemented by Laurie Shaw directly in Google Colab. No instalation needed, it just works.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-04-25T00:00:00-05:00" itemprop="datePublished">
        Apr 25, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#friends of tracking data">friends of tracking data</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#FoTD">FoTD</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#Google Colab">Google Colab</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#tracking data">tracking data</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#metrica sports">metrica sports</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>The content the guys from Friends Of Tracking Data (<a href="https://twitter.com/hashtag/FoT?src=hashtag_click">#FoT</a>) are putting out there is growing and recently <a href="https://twitter.com/EightyFivePoint">Laurie Shaws</a> shared his implementation of <a href="(https://twitter.com/the_spearman)">William Spearman’s</a>pitch control model from 2018. Also recently <a href="https://twitter.com/devinpleuler">Devin Pleuler</a> shared his <a href="https://github.com/devinpleuler/analytics-handbook">Analytics Handbook</a> which consists of a bunch of jupyter notebooks that you can run directly in <a href="https://colab.research.google.com/notebooks/intro.ipynb#recent=true">Google Colab</a>. This means you do not need to install anything, using the code is just one click away. I think that every repository should be build in this way as you won’t have any overhead if you just want to play around.<br />
I thought it would be really cool to also be able to just run Spearman’s Pitch Control model in this way. Therefore, I’ve restructured Lauries repository to allow for direct Google Colab integration.</p>

<table id="colab">
  <thead>
    <tr>
      <th>Notebook</th>
      <th>Colab</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/seidlr/LaurieOnTracking/blob/master/notebooks/Lesson4.ipynb">Basic Plotting of Event and Tracking Data</a></td>
      <td><a href="https://colab.research.google.com/github/seidlr/LaurieOnTracking/blob/master/notebooks/Lesson4.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab" /></a></td>
    </tr>
    <tr>
      <td><a href="(https://github.com/seidlr/LaurieOnTracking/blob/master/notebooks/Lesson4.ipynb)">Advanced Plotting and Summary Statistics</a></td>
      <td><a href="https://colab.research.google.com/github/seidlr/LaurieOnTracking/blob/master/notebooks/Lesson5.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab" /></a></td>
    </tr>
    <tr>
      <td><a href="https://github.com/seidlr/LaurieOnTracking/blob/master/notebooks/Lesson6.ipynb">Pitch Control</a></td>
      <td><a href="https://colab.research.google.com/github/seidlr/LaurieOnTracking/blob/master/notebooks/Lesson6.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab" /></a></td>
    </tr>
  </tbody>
</table>

<p>You can get the code on Github: <a href="https://github.com/seidlr/LaurieOnTracking">https://github.com/seidlr/LaurieOnTracking</a></p>

<p>Just click on the <code class="highlighter-rouge">Open in Colab</code> batch next to Pitch Control and you are good to go. Then:</p>
<ul>
  <li>Run each cell in the notebook and ignore the warning about the unknown environment.</li>
  <li>The data is downloaded directly from Metricas repository.</li>
  <li>Give it some time when it says “Readining team home” in a cell.</li>
</ul>

<p><img src="https://i.imgur.com/VwiiBtm.png" alt="Pitch Control in Google Colab" /></p>

<p>If you are interested in the details what I needed to change to be able to run the code in Google Colab, you can find all code in my fork of Lauries repository on <a href="https://github.com/seidlr/LaurieOnTracking">Github</a>. Here are the new benefits.</p>
<ul>
  <li>A clean structure, where notebooks and modules are separated.</li>
  <li>The Metrica sample data is directly read from their github repository.</li>
  <li>You can run the notebooks directly in Google Colab.</li>
  <li>It is pip-installable. Just run
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install git+https://github.com/seidlr/LaurieOnTracking.git
</code></pre></div>    </div>
    <p>And you are able to use the implementation anywhere in your projects. I.e. you can read in the metrica data of sample match 2 in a dataframe with this code snippet.</p>
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import friendsoftracking.metrica.IO as mio
game_id = 2 # let's look at sample match 2
# read in the event data
events = mio.read_event_data(game_id)
events.head()
</code></pre></div>    </div>
  </li>
</ul>


  </div><a class="u-url" href="/blog/friends%20of%20tracking%20data/fotd/google%20colab/tracking%20data/metrica%20sports/2020/04/25/pitch-control.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>football analytics blog</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/seidlr" title="seidlr"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://www.linkedin.com/in/robert-seidl" title="robert-seidl"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#linkedin"></use></svg></a></li><li><a rel="me" href="https://twitter.com/rob_seidl" title="rob_seidl"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
