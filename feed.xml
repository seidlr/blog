<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://seidlr.github.io/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="https://seidlr.github.io/blog/" rel="alternate" type="text/html" /><updated>2020-04-03T13:37:43-05:00</updated><id>https://seidlr.github.io/blog/feed.xml</id><title type="html">talksportsdata</title><subtitle>football analytics blog</subtitle><entry><title type="html">Visualising football tracking data with bokeh server.</title><link href="https://seidlr.github.io/blog/friends%20of%20tracking/bokeh/tracking%20data/2020/03/28/bokeh-football.html" rel="alternate" type="text/html" title="Visualising football tracking data with bokeh server." /><published>2020-03-28T00:00:00-05:00</published><updated>2020-03-28T00:00:00-05:00</updated><id>https://seidlr.github.io/blog/friends%20of%20tracking/bokeh/tracking%20data/2020/03/28/bokeh-football</id><content type="html" xml:base="https://seidlr.github.io/blog/friends%20of%20tracking/bokeh/tracking%20data/2020/03/28/bokeh-football.html">&lt;h1 id=&quot;visualising-football-tracking-data-with-bokeh-server&quot;&gt;Visualising football tracking data with bokeh server.&lt;/h1&gt;
&lt;p&gt;Last Thursday I listened to the first episode of &lt;a href=&quot;https://www.youtube.com/channel/UCUBFJYcag8j2rm_9HkrrA7w&quot;&gt;Friends of Tracking&lt;/a&gt; where David Sumpter
(&lt;a href=&quot;https://twitter.com/Soccermatics&quot;&gt;@Soccermatics&lt;/a&gt;), &lt;a href=&quot;https://twitter.com/JaviOnData&quot;&gt;@JaviOnData&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/AlexThomasTheFA&quot;&gt;@AlexThomasTheFA&lt;/a&gt;, &lt;a href=&quot;https://www.linkedin.com/in/sudarshan-gopaladesikan-24321a29/&quot;&gt;Suds Gopaladesikan&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/&quot;&gt;@PeraltaFran23&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/pascal_bauer&quot;&gt;@pascal_bauer&lt;/a&gt; had the great idea to “give back during difficult times”. They will provide open lectures on football analytics explaining how they work inside clubs and national teams on their &lt;a href=&quot;https://www.youtube.com/channel/UCUBFJYcag8j2rm_9HkrrA7w&quot;&gt;Youtube channel&lt;/a&gt;. As the name of their group suggests the group was initiated when tracking data became available in football and they recognized that everyone was working on the same problems and code. Because David Sumpter also mentioned that he tries to get some free tracking data of the Swedish league I thought that it might be a good idea to share a repository I found that can be used to easily visualize tracking data in a Jupyter notebook and start from there instead of implementing the visualization. It is written in Python and uses &lt;a href=&quot;https://docs.bokeh.org/en/latest/index.html&quot;&gt;bokeh&lt;/a&gt; for the interaction. The nice thing is that it already has features to show Voronoi cells and convex hulls of both teams.&lt;/p&gt;

&lt;p&gt;You can find the code at &lt;a href=&quot;https://github.com/seidlr/Game-Animation&quot;&gt;https://github.com/seidlr/Game-Animation&lt;/a&gt; and follow the instructions in the &lt;code class=&quot;highlighter-rouge&quot;&gt;Readme&lt;/code&gt;.&lt;br /&gt;
Here is a short summary if you already have Anaconda installed:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Clone the repository
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/seidlr/Game-Animation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Change the directory
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd Game-Animation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Create the conda environment
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;conda env update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;This creates a conda environment called &lt;code class=&quot;highlighter-rouge&quot;&gt;game-animation&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Activate the environment
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;conda activate game-animation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;And finally start the jupyter notebook server
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jupyer notebook
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Select the &lt;code class=&quot;highlighter-rouge&quot;&gt;Soccer_example.ipynb&lt;/code&gt; and run the code cells.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Following the instructions in the notebook you can easily visualise and animate tracking data. It might look like this:
&lt;script src=&quot;https://bokeh-football.apps.talksportsdata.com/bokeh-football/autoload.js?bokeh-autoload-element=1000&amp;amp;bokeh-app-path=/bokeh-football&amp;amp;bokeh-absolute-url=https://bokeh-football.apps.talksportsdata.com/bokeh-football&quot; id=&quot;1000&quot;&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Using the code you can actually focus your time on more valueable projects than building the visualisation. Here are some ideas to get started.&lt;/p&gt;

&lt;h2 id=&quot;possible-extensions&quot;&gt;Possible extensions&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Color the Voronoi cells by team in red and blue.&lt;/li&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;sklearn&lt;/code&gt; K-means on the &lt;code class=&quot;highlighter-rouge&quot;&gt;x&lt;/code&gt; values to find three clusters for attack, midfield and defense.&lt;/li&gt;
  &lt;li&gt;Draw lines between the players in each of the clusters as shown &lt;a href=&quot;https://twitter.com/spielvercom/status/1243957222876614657?s=20&quot;&gt;here&lt;/a&gt;:
&lt;img src=&quot;https://i.imgur.com/gvM7rwX.png&quot; alt=&quot;Lines between players in clusters&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Count all “line-breaking” passes&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;note&quot;&gt;Note&lt;/h1&gt;
&lt;p&gt;I have just forked this repository from &lt;code class=&quot;highlighter-rouge&quot;&gt;https://github.com/samirak93/Game-Animation&lt;/code&gt;. The code was not written by me. I just made some small changes to make it easier to use:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;I’ve cleaned up unneccesary folders like &lt;code class=&quot;highlighter-rouge&quot;&gt;__pycache__&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;.ipynb_checkpoints&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;I’ve added a &lt;code class=&quot;highlighter-rouge&quot;&gt;.gitignore&lt;/code&gt; file to keep the repository clean.&lt;/li&gt;
  &lt;li&gt;I’ve added an &lt;code class=&quot;highlighter-rouge&quot;&gt;environment.yml&lt;/code&gt; file such that you can install all necessary requirements to run the notebooks.&lt;/li&gt;
  &lt;li&gt;I’ve changed the calculation of the convex hull of teams to not inlcude the goalkeeper.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;assets/2020-03-28-19-24-04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Visualising football tracking data with bokeh server. Last Thursday I listened to the first episode of Friends of Tracking where David Sumpter (@Soccermatics), @JaviOnData, @AlexThomasTheFA, Suds Gopaladesikan, @PeraltaFran23 and @pascal_bauer had the great idea to “give back during difficult times”. They will provide open lectures on football analytics explaining how they work inside clubs and national teams on their Youtube channel. As the name of their group suggests the group was initiated when tracking data became available in football and they recognized that everyone was working on the same problems and code. Because David Sumpter also mentioned that he tries to get some free tracking data of the Swedish league I thought that it might be a good idea to share a repository I found that can be used to easily visualize tracking data in a Jupyter notebook and start from there instead of implementing the visualization. It is written in Python and uses bokeh for the interaction. The nice thing is that it already has features to show Voronoi cells and convex hulls of both teams.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://seidlr.github.io/blog/images/bokeh-football.png" /><media:content medium="image" url="https://seidlr.github.io/blog/images/bokeh-football.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>