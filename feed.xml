<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="https://seidlr.github.io/blog/feed.xml" rel="self" type="application/atom+xml" /><link href="https://seidlr.github.io/blog/" rel="alternate" type="text/html" /><updated>2020-04-11T06:20:15-05:00</updated><id>https://seidlr.github.io/blog/feed.xml</id><title type="html">talksportsdata</title><subtitle>football analytics blog</subtitle><entry><title type="html">An Interactive Visualisation of Football Tracking Data.</title><link href="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/widgets/bqplot/qgrid/tracking%20data/metrica%20sports/2020/04/11/interactive-football-pitch.html" rel="alternate" type="text/html" title="An Interactive Visualisation of Football Tracking Data." /><published>2020-04-11T00:00:00-05:00</published><updated>2020-04-11T00:00:00-05:00</updated><id>https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/widgets/bqplot/qgrid/tracking%20data/metrica%20sports/2020/04/11/interactive-football-pitch</id><content type="html" xml:base="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/widgets/bqplot/qgrid/tracking%20data/metrica%20sports/2020/04/11/interactive-football-pitch.html">&lt;h1 id=&quot;an-interactive-visualisation-of-football-tracking-data&quot;&gt;An Interactive Visualisation of Football Tracking Data&lt;/h1&gt;
&lt;p&gt;Unfortunately, I missed the last episode &lt;a href=&quot;https://www.youtube.com/watch?v=kHTq9cwdkGA&quot;&gt;How Tracking Data is Used in Football and What are the Future Challenges of Friends of Tracking Data&lt;/a&gt; hosted by David Sumptor (&lt;a href=&quot;https://twitter.com/Soccermatics&quot;&gt;@Soccermatics&lt;/a&gt;) with &lt;a href=&quot;https://twitter.com/JaviOnData&quot;&gt;@JaviOnData&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/the_spearman&quot;&gt;@the_spearman&lt;/a&gt;, &lt;a href=&quot;https://www.linkedin.com/in/sudarshan-gopaladesikan-24321a29/&quot;&gt;Suds Gopaladesikan&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/EightyFivePoint&quot;&gt;@EightyFivePoint&lt;/a&gt;. It felt a bit like missing a great panel at a conference due to overlap in schedules. Luckily for me, and all others, everything is recorded on Youtube and available &lt;a href=&quot;https://www.youtube.com/watch?v=kHTq9cwdkGA&quot;&gt;here&lt;/a&gt;. This is what David had to say about the episode.&lt;/p&gt;

&lt;div class=&quot;jekyll-twitter-plugin&quot;&gt;&lt;blockquote class=&quot;twitter-tweet&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;For me personally, Thursday&amp;#39;s live &lt;a href=&quot;https://twitter.com/hashtag/FoT?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#FoT&lt;/a&gt; was one of the best discussions I have ever had about the science behind football analytics. So in depth with &lt;a href=&quot;https://twitter.com/JaviOnData?ref_src=twsrc%5Etfw&quot;&gt;@JaviOnData&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/the_spearman?ref_src=twsrc%5Etfw&quot;&gt;@the_spearman&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/suds_g?ref_src=twsrc%5Etfw&quot;&gt;@suds_g&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/EightyFivePoint?ref_src=twsrc%5Etfw&quot;&gt;@EightyFivePoint&lt;/a&gt;. Here &lt;a href=&quot;https://twitter.com/sk3tchYourLife?ref_src=twsrc%5Etfw&quot;&gt;@sk3tchYourLife&lt;/a&gt; really picks out the key points of the discussion. &lt;a href=&quot;https://t.co/feQ0e5y6m7&quot;&gt;pic.twitter.com/feQ0e5y6m7&lt;/a&gt;&lt;/p&gt;&amp;mdash; David Sumpter (@Soccermatics) &lt;a href=&quot;https://twitter.com/Soccermatics/status/1248614585851998214?ref_src=twsrc%5Etfw&quot;&gt;April 10, 2020&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
&lt;/div&gt;

&lt;p&gt;I agree one hundred percent that it was a really in-dept discussion of current issues. They also managed to get sample tracking data of two matches from &lt;a href=&quot;https://github.com/metrica-sports/sample-data&quot;&gt;Metrica Sports&lt;/a&gt;. Given the quality of the talk they had, I thought I will have to up the ante on my side. I thought about what I would have been very happy to know a year ago and therefore I created a notebook where I use Jupyter widgets the create interactive components which you can use to investigate the Metrica Sports data. You can get all the code on Github, &lt;a href=&quot;https://github.com/seidlr/fotd-interactive-football-pitch&quot;&gt;https://github.com/seidlr/fotd-interactive-football-pitch&lt;/a&gt;, and simply follow the installation instructions in the Readme.&lt;br /&gt;
Or, and this is what I really like about Jupyter widgets, you can just use Binder to test everything online without installation. &lt;br /&gt;
Just click on this image&lt;/p&gt;
&lt;center&gt;
&lt;a href=&quot;https://mybinder.org/v2/gh/seidlr/fotd-interactive-football-pitch/master?filepath=Interactive-Football-Pitch.ipynb&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;https://mybinder.org/badge_logo.svg&quot; /&gt;&lt;/a&gt;
&lt;/center&gt;
&lt;p&gt;(and give Docker some time to build the image)&lt;/p&gt;

&lt;p&gt;Here are some screenshots of the three use-cases I picked as showcases:&lt;/p&gt;
&lt;h2 id=&quot;use-case-1-moving-players-on-a-football-pitch&quot;&gt;Use-case 1: Moving Players on a Football Pitch&lt;/h2&gt;
&lt;p&gt;I think everyone will share kind of the same story of how his or her visualisation of football pitches changed or improved over time. For me it was starting with Matplotlib and switching to Plotly because you actually don’t want to spent a ton of time to get some simple hover effects etc. But at some point you recognize that in the end you want to be able to actually move players or the ball around on the pitch and possibly rerun your pitch control or expected-goals model and answer some What-If questions. If you reached this point, you will be pleased to see that this is actually possible using &lt;code class=&quot;highlighter-rouge&quot;&gt;bqplot&lt;/code&gt;, a Python wrapper around D3.js, in a jupyter notebook. If you launch the notebook on Binder, you can drag and drop each player and the ball on the pitch.&lt;/p&gt;

&lt;center&gt;
    &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/Kx9IY_HAkK8&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;h2 id=&quot;use-case-2-animate-tracking-data&quot;&gt;Use-case 2: Animate Tracking Data&lt;/h2&gt;
&lt;p&gt;The cool thing is that you can build our widgets on top of this in a simple way. As example I’ve attached a &lt;code class=&quot;highlighter-rouge&quot;&gt;Play&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;slider&lt;/code&gt; widget. Now you can easily replay the match using tracking data.&lt;/p&gt;

&lt;center&gt;
    &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/giqCwm85NzY&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;h2 id=&quot;use-case-3-replay-events-with-tracking-data&quot;&gt;Use-case 3: Replay Events with Tracking Data&lt;/h2&gt;
&lt;p&gt;The Metrica data also gives you access to all the events that happened in the match. Would be cool to be able to filter events and jump to the position in the replay where they happened? We can use a &lt;code class=&quot;highlighter-rouge&quot;&gt;qgrid&lt;/code&gt; widget to do this! Here is the result.&lt;/p&gt;

&lt;center&gt;
    &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/RhDjOxW_qrY&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
&lt;/center&gt;

&lt;h2 id=&quot;what-to-do-from-here&quot;&gt;What to do from here?&lt;/h2&gt;
&lt;p&gt;Getting all the widgets into a state to run smoothly is always a bit challenging, especially because they tend to fail silently, meaning that there might be no error in the notebook but the widget is not doing what you want it to do because you made a mistake somewhere. The only way to learn how to use them is actually to invest time. The best way is to build on a widget and try to add new functionality.&lt;br /&gt;
Here are some ideas:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Add the current game time to the pitch plot (and update it when playing).&lt;/li&gt;
  &lt;li&gt;Add some functionality like voronoi cells or convex hulls of teams as implemented &lt;a href=&quot;https://github.com/seidlr/Game-Animation&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Add a auto-replay option: When selecting an event, the animation should start at this event and stop of it is over as documented in the columns &lt;code class=&quot;highlighter-rouge&quot;&gt;End X&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;End Y&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Create an overlay/tooltip for player information using &lt;code class=&quot;highlighter-rouge&quot;&gt;bqplot.tooltip&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Calculate the distance covered for each player and the ball in the match.&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">An Interactive Visualisation of Football Tracking Data Unfortunately, I missed the last episode How Tracking Data is Used in Football and What are the Future Challenges of Friends of Tracking Data hosted by David Sumptor (@Soccermatics) with @JaviOnData, @the_spearman, Suds Gopaladesikan and @EightyFivePoint. It felt a bit like missing a great panel at a conference due to overlap in schedules. Luckily for me, and all others, everything is recorded on Youtube and available here. This is what David had to say about the episode.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://seidlr.github.io/blog/images/fotd_widgets_thumbnail.png" /><media:content medium="image" url="https://seidlr.github.io/blog/images/fotd_widgets_thumbnail.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Visualising football tracking data with bokeh server.</title><link href="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/bokeh/tracking%20data/2020/03/28/bokeh-football.html" rel="alternate" type="text/html" title="Visualising football tracking data with bokeh server." /><published>2020-03-28T00:00:00-05:00</published><updated>2020-03-28T00:00:00-05:00</updated><id>https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/bokeh/tracking%20data/2020/03/28/bokeh-football</id><content type="html" xml:base="https://seidlr.github.io/blog/friends%20of%20tracking%20data/fotd/bokeh/tracking%20data/2020/03/28/bokeh-football.html">&lt;h1 id=&quot;visualising-football-tracking-data-with-bokeh-server&quot;&gt;Visualising football tracking data with bokeh server.&lt;/h1&gt;
&lt;p&gt;Last Thursday I listened to the first episode of &lt;a href=&quot;https://www.youtube.com/channel/UCUBFJYcag8j2rm_9HkrrA7w&quot;&gt;Friends of Tracking&lt;/a&gt; where David Sumpter
(&lt;a href=&quot;https://twitter.com/Soccermatics&quot;&gt;@Soccermatics&lt;/a&gt;), &lt;a href=&quot;https://twitter.com/JaviOnData&quot;&gt;@JaviOnData&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/AlexThomasTheFA&quot;&gt;@AlexThomasTheFA&lt;/a&gt;, &lt;a href=&quot;https://www.linkedin.com/in/sudarshan-gopaladesikan-24321a29/&quot;&gt;Suds Gopaladesikan&lt;/a&gt;, &lt;a href=&quot;https://twitter.com/&quot;&gt;@PeraltaFran23&lt;/a&gt; and &lt;a href=&quot;https://twitter.com/pascal_bauer&quot;&gt;@pascal_bauer&lt;/a&gt; had the great idea to “give back during difficult times”. They will provide open lectures on football analytics explaining how they work inside clubs and national teams on their &lt;a href=&quot;https://www.youtube.com/channel/UCUBFJYcag8j2rm_9HkrrA7w&quot;&gt;Youtube channel&lt;/a&gt;. As the name of their group suggests the group was initiated when tracking data became available in football and they recognized that everyone was working on the same problems and code. Because David Sumpter also mentioned that he tries to get some free tracking data of the Swedish league I thought that it might be a good idea to share a repository I found that can be used to easily visualize tracking data in a Jupyter notebook and start from there instead of implementing the visualization. It is written in Python and uses &lt;a href=&quot;https://docs.bokeh.org/en/latest/index.html&quot;&gt;bokeh&lt;/a&gt; for the interaction. The nice thing is that it already has features to show Voronoi cells and convex hulls of both teams.&lt;/p&gt;

&lt;p&gt;You can find the code at &lt;a href=&quot;https://github.com/seidlr/Game-Animation&quot;&gt;https://github.com/seidlr/Game-Animation&lt;/a&gt; and follow the instructions in the &lt;code class=&quot;highlighter-rouge&quot;&gt;Readme&lt;/code&gt;.&lt;br /&gt;
Here is a short summary if you already have Anaconda installed:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Clone the repository
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/seidlr/Game-Animation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Change the directory
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd Game-Animation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Create the conda environment
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;conda env update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;This creates a conda environment called &lt;code class=&quot;highlighter-rouge&quot;&gt;game-animation&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Activate the environment
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;conda activate game-animation
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;And finally start the jupyter notebook server
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jupyer notebook
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Select the &lt;code class=&quot;highlighter-rouge&quot;&gt;Soccer_example.ipynb&lt;/code&gt; and run the code cells.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Following the instructions in the notebook you can easily visualise and animate tracking data. It might look like this:
&lt;script src=&quot;https://bokeh-football.apps.talksportsdata.com/bokeh-football/autoload.js?bokeh-autoload-element=1000&amp;amp;bokeh-app-path=/bokeh-football&amp;amp;bokeh-absolute-url=https://bokeh-football.apps.talksportsdata.com/bokeh-football&quot; id=&quot;1000&quot;&gt;
&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Using the code you can actually focus your time on more valueable projects than building the visualisation. Here are some ideas to get started.&lt;/p&gt;

&lt;h2 id=&quot;possible-extensions&quot;&gt;Possible extensions&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Color the Voronoi cells by team in red and blue.&lt;/li&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;sklearn&lt;/code&gt; K-means on the &lt;code class=&quot;highlighter-rouge&quot;&gt;x&lt;/code&gt; values to find three clusters for attack, midfield and defense.&lt;/li&gt;
  &lt;li&gt;Draw lines between the players in each of the clusters as shown &lt;a href=&quot;https://twitter.com/spielvercom/status/1243957222876614657?s=20&quot;&gt;here&lt;/a&gt;:
&lt;img src=&quot;https://i.imgur.com/gvM7rwX.png&quot; alt=&quot;Lines between players in clusters&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Count all “line-breaking” passes&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;note&quot;&gt;Note&lt;/h1&gt;
&lt;p&gt;I have just forked this repository from &lt;code class=&quot;highlighter-rouge&quot;&gt;https://github.com/samirak93/Game-Animation&lt;/code&gt;. The code was not written by me. I only made some small changes to make it easier to use:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;I’ve cleaned up unneccesary folders like &lt;code class=&quot;highlighter-rouge&quot;&gt;__pycache__&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;.ipynb_checkpoints&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;I’ve added a &lt;code class=&quot;highlighter-rouge&quot;&gt;.gitignore&lt;/code&gt; file to keep the repository clean.&lt;/li&gt;
  &lt;li&gt;I’ve added an &lt;code class=&quot;highlighter-rouge&quot;&gt;environment.yml&lt;/code&gt; file such that you can install all necessary requirements to run the notebooks.&lt;/li&gt;
  &lt;li&gt;I’ve changed the calculation of the convex hull of teams to not include the goalkeeper.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;assets/2020-03-28-19-24-04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Visualising football tracking data with bokeh server. Last Thursday I listened to the first episode of Friends of Tracking where David Sumpter (@Soccermatics), @JaviOnData, @AlexThomasTheFA, Suds Gopaladesikan, @PeraltaFran23 and @pascal_bauer had the great idea to “give back during difficult times”. They will provide open lectures on football analytics explaining how they work inside clubs and national teams on their Youtube channel. As the name of their group suggests the group was initiated when tracking data became available in football and they recognized that everyone was working on the same problems and code. Because David Sumpter also mentioned that he tries to get some free tracking data of the Swedish league I thought that it might be a good idea to share a repository I found that can be used to easily visualize tracking data in a Jupyter notebook and start from there instead of implementing the visualization. It is written in Python and uses bokeh for the interaction. The nice thing is that it already has features to show Voronoi cells and convex hulls of both teams.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://seidlr.github.io/blog/images/bokeh-football.png" /><media:content medium="image" url="https://seidlr.github.io/blog/images/bokeh-football.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>